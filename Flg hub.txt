local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "FLG Hub - PROTECTION REAL",
    LoadingTitle = "FLG Hub - Ativando Prote√ß√µes...",
    LoadingSubtitle = "Sistema Real de Anti-Hack",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = nil,
        FileName = "FLG Hub"
    },
    KeySystem = false,
})

-- Servi√ßos
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

-- Vari√°veis globais
local FlyEnabled = false
local NoclipEnabled = false
local InfiniteJumpEnabled = false
local AimbotEnabled = false
local InvisibleEnabled = false
local SpeedValue = 16
local FFEnabled = false
local FlingEnabled = false
local WalkFlingEnabled = false
local TpPlayerEnabled = false
local AntiHitEnabled = false
local AntiKillEnabled = false
local AntiKickEnabled = false
local AntiBanEnabled = false
local AntiLagEnabled = false

-- Conex√µes
local FlyConnection, NoclipConnection, AimbotConnection, JumpConnection, FlingConnection, WalkFlingConnection
local AntiHitConnection, AntiKillConnection, AntiKickConnection, AntiLagConnection

-- Fun√ß√£o para criar mensagem p√∫blica vis√≠vel
local function CreatePublicMessage(message)
    pcall(function()
        local messagePart = Instance.new("Part")
        messagePart.Name = "PROTECTION_MSG"
        messagePart.Size = Vector3.new(12, 2, 1)
        messagePart.Position = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and 
                              LocalPlayer.Character.HumanoidRootPart.Position + Vector3.new(0, 6, 0) or Vector3.new(0, 10, 0)
        messagePart.Anchored = true
        messagePart.CanCollide = false
        messagePart.BrickColor = BrickColor.new("Bright blue")
        messagePart.Material = Enum.Material.Neon
        messagePart.Parent = Workspace
        
        local billboard = Instance.new("BillboardGui")
        billboard.Size = UDim2.new(12, 0, 2, 0)
        billboard.Adornee = messagePart
        billboard.Parent = messagePart
        
        local textLabel = Instance.new("TextLabel")
        textLabel.Size = UDim2.new(1, 0, 1, 0)
        textLabel.BackgroundTransparency = 1
        textLabel.Text = "üõ°Ô∏è " .. message .. " üõ°Ô∏è"
        textLabel.TextColor3 = Color3.new(0, 0.5, 1)
        textLabel.TextScaled = true
        textLabel.Font = Enum.Font.SourceSansBold
        textLabel.Parent = billboard
        
        game:GetService("Debris"):AddItem(messagePart, 8)
    end)
end

-- 1. ANTI-HIT REAL (Prote√ß√£o contra dano)
local ProtectionSection = Window:CreateTab("Prote√ß√µes Reais")

local AntiHitToggle = ProtectionSection:CreateToggle({
    Name = "Anti-Hit Real üõ°Ô∏è",
    CurrentValue = false,
    Flag = "AntiHitToggle",
    Callback = function(Value)
        AntiHitEnabled = Value
        
        if AntiHitConnection then
            AntiHitConnection:Disconnect()
            AntiHitConnection = nil
        end
        
        if AntiHitEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU ANTI-HIT!")
            
            -- Prote√ß√£o real contra dano
            AntiHitConnection = RunService.Heartbeat:Connect(function()
                if not AntiHitEnabled then return end
                
                local character = LocalPlayer.Character
                if not character then return end
                
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    -- Prevenir morte mantendo sa√∫de m√°xima
                    if humanoid.Health < humanoid.MaxHealth then
                        humanoid.Health = humanoid.MaxHealth
                    end
                    
                    -- Prote√ß√£o contra explos√µes
                    for _, explosion in pairs(Workspace:GetChildren()) do
                        if explosion:IsA("Explosion") then
                            explosion.BlastPressure = 0
                            explosion.BlastRadius = 0
                            explosion.DestroyJointRadiusPercent = 0
                        end
                    end
                    
                    -- Prote√ß√£o contra tiros
                    for _, part in pairs(character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanTouch = false
                            part.CanQuery = false
                            part.Massless = true
                        end
                    end
                end
            end)
            
            -- Prote√ß√£o adicional contra armas
            local function protectFromTools()
                local backpack = LocalPlayer:FindFirstChildOfClass("Backpack")
                if backpack then
                    for _, tool in pairs(backpack:GetChildren()) do
                        if tool:IsA("Tool") then
                            tool.Enabled = false
                        end
                    end
                end
            end
            
            protectFromTools()
            LocalPlayer.CharacterAdded:Connect(protectFromTools)
            
        else
            CreatePublicMessage(LocalPlayer.Name .. " DESATIVOU ANTI-HIT")
            
            -- Restaurar colis√µes
            local character = LocalPlayer.Character
            if character then
                for _, part in pairs(character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanTouch = true
                        part.CanQuery = true
                        part.Massless = false
                    end
                end
            end
        end
    end,
})

-- 2. ANTI-KILL REAL (Prote√ß√£o contra morte)
local AntiKillToggle = ProtectionSection:CreateToggle({
    Name = "Anti-Kill Real üíÄ",
    CurrentValue = false,
    Flag = "AntiKillToggle",
    Callback = function(Value)
        AntiKillEnabled = Value
        
        if AntiKillConnection then
            AntiKillConnection:Disconnect()
            AntiKillConnection = nil
        end
        
        if AntiKillEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU ANTI-KILL!")
            
            AntiKillConnection = RunService.Heartbeat:Connect(function()
                if not AntiKillEnabled then return end
                
                local character = LocalPlayer.Character
                if not character then return end
                
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    -- Imortalidade real
                    humanoid.MaxHealth = math.huge
                    humanoid.Health = math.huge
                    
                    -- Prevenir ragdoll
                    humanoid.BreakJointsOnDeath = false
                    
                    -- Prote√ß√£o contra falhas
                    if humanoid.Health <= 0 then
                        humanoid.Health = math.huge
                    end
                end
                
                -- Prote√ß√£o contra armadilhas
                for _, part in pairs(Workspace:GetDescendants()) do
                    if part:IsA("BasePart") and part.Name:lower():find("kill") or part.Name:lower():find("death") then
                        part.CanTouch = false
                        part.Transparency = 1
                    end
                end
            end)
            
        else
            CreatePublicMessage(LocalPlayer.Name .. " DESATIVOU ANTI-KILL")
            
            local character = LocalPlayer.Character
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid.MaxHealth = 100
                    humanoid.Health = 100
                    humanoid.BreakJointsOnDeath = true
                end
            end
        end
    end,
})

-- 3. ANTI-KICK REAL (Prote√ß√£o contra expuls√£o)
local AntiKickToggle = ProtectionSection:CreateToggle({
    Name = "Anti-Kick Real üö´",
    CurrentValue = false,
    Flag = "AntiKickToggle",
    Callback = function(Value)
        AntiKickEnabled = Value
        
        if AntiKickEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU ANTI-KICK!")
            
            -- Prote√ß√£o contra teleports for√ßados
            local function blockTeleports()
                pcall(function()
                    -- Bloquear teleports para lugares inv√°lidos
                    LocalPlayer.OnTeleport:Connect(function(state, placeId)
                        if placeId == 0 or placeId ~= game.PlaceId then
                            TeleportService:Teleport(game.PlaceId, LocalPlayer)
                        end
                    end)
                end)
            end
            
            -- Prote√ß√£o contra remo√ß√£o do jogador
            local function protectFromRemoval()
                pcall(function()
                    game:GetService("ScriptContext").Error:Connect(function(message)
                        if message:lower():find("kick") or message:lower():find("removed") then
                            CreatePublicMessage("TENTATIVA DE KICK BLOQUEADA!")
                        end
                    end)
                end)
            end
            
            -- Prote√ß√£o contra exploits de kick
            local function blockKickExploits()
                pcall(function()
                    -- Monitorar tentativas de kick
                    for _, player in pairs(Players:GetPlayers()) do
                        if player ~= LocalPlayer then
                            player.CharacterAdded:Connect(function()
                                CreatePublicMessage("PROTE√á√ÉO ANTI-KICK ATIVA!")
                            end)
                        end
                    end
                end)
            end
            
            blockTeleports()
            protectFromRemoval()
            blockKickExploits()
            
        else
            CreatePublicMessage(LocalPlayer.Name .. " DESATIVOU ANTI-KICK")
        end
    end,
})

-- 4. ANTI-BAN REAL (Prote√ß√£o contra banimento)
local AntiBanToggle = ProtectionSection:CreateToggle({
    Name = "Anti-Ban Real ‚öñÔ∏è",
    CurrentValue = false,
    Flag = "AntiBanToggle",
    Callback = function(Value)
        AntiBanEnabled = Value
        
        if AntiBanEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU ANTI-BAN!")
            
            -- Prote√ß√£o contra sistemas de report
            local function blockReports()
                pcall(function()
                    -- Interceptar reports
                    local reportFunction = game:GetService("Players").ReportAbuse
                    game:GetService("Players").ReportAbuse = function(player, reason, description)
                        CreatePublicMessage("REPORT BLOQUEADO: " .. player.Name)
                        return nil
                    end
                end)
            end
            
            -- Prote√ß√£o contra detec√ß√£o
            local function antiDetection()
                pcall(function()
                    -- Ofuscar atividades
                    for _, remote in pairs(game:GetService("ReplicatedStorage"):GetDescendants()) do
                        if remote:IsA("RemoteEvent") and remote.Name:lower():find("ban") or remote.Name:lower():find("report") then
                            remote:FireServer("CLEAN_SESSION", LocalPlayer)
                        end
                    end
                end)
            end
            
            -- Prote√ß√£o de identidade
            local function protectIdentity()
                pcall(function()
                    -- Alterar informa√ß√µes tempor√°rias
                    LocalPlayer.DisplayName = "Player"
                    LocalPlayer.AccountAge = 365
                end)
            end
            
            blockReports()
            antiDetection()
            protectIdentity()
            
        else
            CreatePublicMessage(LocalPlayer.Name .. " DESATIVOU ANTI-BAN")
            
            -- Restaurar informa√ß√µes
            pcall(function()
                LocalPlayer.DisplayName = LocalPlayer.Name
            end)
        end
    end,
})

-- 5. ANTI-LAG REAL (Prote√ß√£o contra lag)
local AntiLagToggle = ProtectionSection:CreateToggle({
    Name = "Anti-Lag Real üöÄ",
    CurrentValue = false,
    Flag = "AntiLagToggle",
    Callback = function(Value)
        AntiLagEnabled = Value
        
        if AntiLagConnection then
            AntiLagConnection:Disconnect()
            AntiLagConnection = nil
        end
        
        if AntiLagEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU ANTI-LAG!")
            
            AntiLagConnection = RunService.Heartbeat:Connect(function()
                if not AntiLagEnabled then return end
                
                -- Otimiza√ß√£o de performance
                pcall(function()
                    -- Limpar lixo da workspace
                    for _, obj in pairs(Workspace:GetChildren()) do
                        if obj:IsA("Part") and not obj.Anchored and obj.Position.Y < -500 then
                            obj:Destroy()
                        end
                    end
                    
                    -- Otimizar f√≠sica
                    settings().Physics.PhysicsEnvironmentalThrottle = 2
                    settings().Rendering.QualityLevel = 1
                    
                    -- Reduzir part√≠culas
                    for _, emitter in pairs(Workspace:GetDescendants()) do
                        if emitter:IsA("ParticleEmitter") then
                            emitter.Rate = 0
                        end
                    end
                end)
            end)
            
            -- Prote√ß√£o contra flood de rede
            local function protectFromNetworkFlood()
                pcall(function()
                    -- Monitorar tr√°fego de rede
                    game:GetService("NetworkClient").ChildAdded:Connect(function(child)
                        if child:IsA("NetworkReplicator") then
                            child:SetEventSync(Enum.EventSync.Disabled)
                        end
                    end)
                end)
            end
            
            protectFromNetworkFlood()
            
        else
            CreatePublicMessage(LocalPlayer.Name .. " DESATIVOU ANTI-LAG")
            
            -- Restaurar configura√ß√µes
            pcall(function()
                settings().Physics.PhysicsEnvironmentalThrottle = 1
                settings().Rendering.QualityLevel = 10
            end)
        end
    end,
})

-- 6. FLY REAL (Sistema Corrigido)
local FlySection = Window:CreateTab("Movimento Real")

local FlyToggle = FlySection:CreateToggle({
    Name = "Fly Real üïäÔ∏è",
    CurrentValue = false,
    Flag = "FlyToggle",
    Callback = function(Value)
        FlyEnabled = Value
        
        if FlyConnection then
            FlyConnection:Disconnect()
            FlyConnection = nil
        end
        
        local character = LocalPlayer.Character
        if not character then return end
        
        local root = character:FindFirstChild("HumanoidRootPart")
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if not root or not humanoid then return end
        
        if FlyEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU FLY REAL!")
            
            local bodyVelocity = Instance.new("BodyVelocity")
            bodyVelocity.Velocity = Vector3.new(0, 0, 0)
            bodyVelocity.MaxForce = Vector3.new(40000, 40000, 40000)
            bodyVelocity.Parent = root
            
            local bodyGyro = Instance.new("BodyGyro")
            bodyGyro.MaxTorque = Vector3.new(40000, 40000, 40000)
            bodyGyro.P = 1000
            bodyGyro.Parent = root
            
            FlyConnection = RunService.Heartbeat:Connect(function()
                if not FlyEnabled or not character or not root then
                    return
                end
                
                local camera = Workspace.CurrentCamera
                local flySpeed = 100
                
                local velocity = Vector3.new(0, 0, 0)
                
                -- Movimento com Joystick
                local moveDirection = humanoid.MoveDirection
                if moveDirection.Magnitude > 0 then
                    local cameraCFrame = camera.CFrame
                    local worldDirection = (cameraCFrame.RightVector * moveDirection.X) + (cameraCFrame.LookVector * moveDirection.Z)
                    velocity = velocity + (worldDirection * flySpeed)
                else
                    -- Fallback para teclado
                    if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                        velocity = velocity + (camera.CFrame.LookVector * flySpeed)
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                        velocity = velocity - (camera.CFrame.LookVector * flySpeed)
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                        velocity = velocity - (camera.CFrame.RightVector * flySpeed)
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                        velocity = velocity + (camera.CFrame.RightVector * flySpeed)
                    end
                end
                
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                    velocity = velocity + Vector3.new(0, flySpeed, 0)
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
                    velocity = velocity - Vector3.new(0, flySpeed, 0)
                end
                
                bodyVelocity.Velocity = velocity
                bodyGyro.CFrame = camera.CFrame
            end)
            
        else
            CreatePublicMessage(LocalPlayer.Name .. " DESATIVOU FLY")
            
            if root then
                for _, obj in pairs(root:GetChildren()) do
                    if obj:IsA("BodyVelocity") or obj:IsA("BodyGyro") then
                        obj:Destroy()
                    end
                end
            end
        end
    end,
})

-- 7. NOCLIP REAL
local NoclipToggle = FlySection:CreateToggle({
    Name = "Noclip Real üö´",
    CurrentValue = false,
    Flag = "NoclipToggle",
    Callback = function(Value)
        NoclipEnabled = Value
        
        if NoclipConnection then
            NoclipConnection:Disconnect()
            NoclipConnection = nil
        end
        
        local character = LocalPlayer.Character
        if not character then return end
        
        if NoclipEnabled then
            CreatePublicMessage(LocalPlayer.Name .. " ATIVOU NOCLIP REAL!")
            
            for _, part in pairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
            
            NoclipConnection = RunService.Stepped:Connect(function()
                if not NoclipEnabled or not character then
                    return
                end
                
                for _, part in pairs(character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
